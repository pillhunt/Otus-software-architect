---
Статус: На рассмотрении
---
# Архитектурное решение для интеграции системы документооборота с операторами ЭДО

## Бизнес-контекст

У заказчика есть внутренняя система документооборота. Система обслуживает и связывает географически разнесённые филиалы. Пользователями являются тысячи сотрудников. Так же заказчик осуществляет документооборот со своими контрагентами через несколько существующих операторов ЭДО.
## Бизнес-драйверы

- на осуществление документооборота с контрагентами тратится много времени;
- данные по контрагентам обновляются слишком медленно во внутренней системе документооборота;
- данные по договорам не всегда актуальны во внутренней системе документооборота.
## Рассмотренные варианты

### Решение 1

**Бэк:** Сервер с API, БД.

**Функционал (MVP):**  отправка документов, получение документов, изменить состояние документа по запросу.

**Архитектура:** SBA – Service-based Architecture (SOA).
- **Основной функциональный сценарий:** отправка документов, получение документов, изменить состояние документа по запросу;
- **Особенности*:*** все сервисы работают с одной БД, модульность;
- **Аппаратная часть:**
    - виртуальный сервер на существующих мощностях: $
    - покупка нового сервера: \$$
    - выделение существующего физического сервера: 0
- **Стоимость разработки:** $
- **Модификация:** \$$

**Стэк:**
- API:
    - C# \$$ TT
    - Java \$$ TT
- БД:
    - PostgreSQL $ T
    - MySQL \$$ TT
    - MSSQL \$\$$ TT

**Разработка:**
- Переучивать команду
    - C# 0 0
    - Java \$\$$ TTT
- Аутсорс \$$ TT
- Фриланс $ T

**Альтернативы:**
Использование для разработки системы таких технологий, как Go, php, Kotlin, Python не рассматривается, т.к. подразумевает длительное обучение, дороговизну разработки и трудность поддержки. На данный момент в рамках департамента разработки есть две команды, чей стэк включает Java и C#.
MSSQL: отклонено в виду ориентирования на импортозамещения и дороговизны лицензирования и разработки.
#### Последствия

- **Положительные:** рентабельность, нет дополнительного усложнения в виде слоя общения между сервисами, сопровождение, развёртывание;
- **Отрицательные:** требовательность к серверу, БД представляется уязвимым местом;
### Решение 2

**Бэк:** Сервер с API, БД.

**Функционал (MVP):**  отправка документов, получение документов, изменить состояние документа по запросу.

**Архитектура:** MSA – Microservice Architecture
- **Основной функциональный сценарий:** отправка документов, получение документов, изменить состояние документа по запросу;
- **Особенности*:*** контракт, каждый сервис работает со своей БД, модульность, межсервисные связи, большое количество сервисов.
- **Аппаратная часть:**
    - виртуальные машины на существующих мощностях: $
    - покупка новых серверов под каждый сервис: \$\$$
- **Стоимость разработки**: \$\$$
- **Модификация:** \$$

**Стэк:**
- API:
    - C# \$$ TT
    - Java \$$ TT
- БД:
    - PostgreSQL $ T
    - MySQL \$$ TT

**Разработка:**
- Переучивать команду
    - C# $ T
    - Java \$\$$ TTT
- Аутсорс \$$ TT
- Фриланс $ T

**Альтернативы**

Использование для разработки системы таких технологий, как Go, php, Kotlin, Python не рассматривается, т.к. подразумевает длительное обучение, дороговизну разработки и трудность поддержки. На данный момент в рамках департамента разработки есть две команды, чей стэк включает Java и C#.
MSSQL: отклонено в виду ориентирования на импортозамещения и дороговизны лицензирования и разработки.
#### Последствия

- **Положительные:** отказоустойчивость, горизонтальная масштабируемость, TimeToMarket, возможность разбиения на команды.
- **Отрицательные**: сложность разработки, сложность сопровождения.
## Комплаенс

Проверка функционального соответствия будет осуществляться через сравнение функционала решения с регламентом по электронному документообороту организации. Проверку реализации решения на предмет соответствия выбранному варианту можно осуществлять как на уровне кода через модульное и интеграционное тестирование, так и на уровне менеджмента разработки через ограничение перечня используемых технологий. 
